---
title: "new_assignment"
author: "Me"
date: "2023-09-14"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)

install.packages("tidyverse")
library(tidyverse)
library(stringr)
library(dplyr)
```

##Loading the datasets
```{r}
setwd("data")

Demo_DF <- read.csv("demo_train.csv")
LU_DF <- read.csv("LU_train.csv")
Token_DF <- read.csv("token_train.csv")

```
## Identifying indifferences between datasets
```{r}
head(Demo_DF)
head(LU_DF)
head(Token_DF)
```
Demo_DF has a different variable for "Visit"
It seems more reasonable to keep Visit as a integer, hence a logical change would be to transform all other "Visitx." in LU_DF and Token_DF 

We have the same reverse problem for the identification of participants (Child.ID/SUBJ)
As it is written Child.ID in Demo_DF and SUBJ in the others. 
Here it seems more reasonable to change the names of the others to Child.ID since its a more specific name.
```{r}
TransformVisit = function(dataDF){
    dataDF$VISIT <- gsub("(?i)visit", "", dataDF$VISIT)
dataDF$VISIT <- as.integer(dataDF$VISIT)

colnames(dataDF)[colnames(dataDF) == "SUBJ"] ="Child.ID"
     head(dataDF)   
}

head(Demo_DF)
TransformVisit(LU_DF)
TransformVisit(Token_DF)

```
## Selection
We will now use another function to make sure only the relevant variables are used.
We use a list and functions to complete this.
```{r}
RelevantList = c("Child.ID",
"Visit",
"Diagnosis",
"Ethnicity",
"Gender",
"Age",
"ADOS",
"MullenRaw",
"ExpressiveLangRaw",
"Socialization",
"MOT_MLU",
"CHI_MLU",
"types_MOT",
"types_CHI",
"tokens_MOT",
"tokens_CHI")

OrderControl = function(dataDF){
  TempList = character()
  for(ColN in RelevantList)
  {
    
    if(ColN %in% colnames(dataDF))
    {
      
      TempList <- c(TempList, ColN)
    }
  }
  TempList
  dataDF = dataDF %>% select(TempList) 
  head(dataDF)
}

OrderControl(Demo_DF)
OrderControl(LU_DF)
OrderControl(Token_DF)
```


